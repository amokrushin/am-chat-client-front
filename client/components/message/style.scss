@import "../../styles/index";

.am-chat-message {

    margin-bottom : 15px;

    .am-chat-message__title {
        margin-bottom : 4px;
    }

    .am-chat-message__avatar {
        float         : left;
        margin        : 0 10px 0 0;
        border-radius : 3px;
        width         : 32px;
        height        : 32px;
        img {
            width  : 100%;
            height : 100%;
        }
    }

    .am-chat-message__username {
        display       : inline-block;
        font-size     : 12px;
        color         : $message-text-color;
        padding-right : 16px;
        a {
            text-decoration : none;
            color           : $text-color;
            font-weight     : bold;
        }
    }

    .am-chat-message__time {
        display : inline-block;
        float   : right;
    }

    .am-chat-message__content {
        display          : inline-block;
        position         : relative;
        box-sizing       : border-box;
        padding          : 0 10px;
        max-width        : calc(100% - 42px);
        min-height       : 30px;
        line-height      : 1.5;
        font-size        : 12px;
        text-align       : left;
        background-color : $message-background-color;
        border-radius    : 4px;
        color            : $message-text-color;

        &:before {
            content            : " ";
            position           : absolute;
            top                : 9px;
            right              : 100%;
            border             : 6px solid transparent;
            border-right-color : $message-background-color;
        }
    }

    .am-chat-message__text {
        word-wrap : break-word;

        img {
            width : 100%;
        }
    }
}

.am-chat-message--removed {
    .am-chat-message__content {
        color            : $message-text-color-removed;
        background-color : $message-background-color-removed;
        &:before {
            border-right-color : $message-background-color-removed;
        }
    }
}

.am-chat-message--self {
    text-align : right;
    .am-chat-message__avatar {
        float  : right;
        margin : 0 0 0 10px;
    }

    .am-chat-message__content {
        color            : $message-text-color-self;
        background-color : $message-background-color-self;
        &:before {
            right              : inherit;
            left               : 100%;
            border-right-color : transparent;
            border-left-color  : $message-background-color-self;
        }
    }
}